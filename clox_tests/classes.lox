class Empty {}
print Empty;
var OtherEmpty = class {};
print OtherEmpty;
OtherEmpty = 1;
print OtherEmpty;
let AnotherEmpty = class {};
print AnotherEmpty;

print Empty();
print AnotherEmpty();

var eclair = class {}();
eclair.filling = "pastry creme";
print eclair.filling;

class Toast {}
var toast = Toast();
print toast.jam = "grape";

class Pair {}
var pair = Pair();
pair.first = 1;
pair.second = 2;
print pair.first + pair.second;

print hasfield(pair, "first");
print hasfield(pair, "second");
print hasfield(pair, "third");

print pair.("fir" + "st");
let s = "second";
print pair.(s);

delfield(pair, "first");
print hasfield(pair, "first");

class Scone {
    topping(first, second) {
        print "scone with " + first + " and " + second;
    }
}

var scone = Scone();
scone.topping("berries", "cream");
var toppingm = scone.topping;
toppingm("choco", "banana");

class Nested {
    method() {
        fun function() {
            print this;
        }

        function();
    }
}

Nested().method();

class CoffeeMaker {
    init(coffee) {
        this.coffee = coffee;
    }

    brew() {
        print "Enjoy your cup of " + this.coffee;

        // No reusing the grounds!
        this.coffee = nil;
    }
}

var maker = CoffeeMaker("coffee and chicory");
maker.brew();
print maker.coffee;

// No can do with the lookahead we have in the parser
// class { print() { print "Print"; }}().print();
